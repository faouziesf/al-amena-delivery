â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
  âœ… SPÃ‰CIFICATION API CLIENT - TERMINÃ‰E
â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•

ðŸ“… Date : 24 Octobre 2025, 01:30
ðŸŽ¯ Statut : SpÃ©cification ComplÃ¨te - PrÃªte pour DÃ©veloppement

â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
ðŸ“š DOCUMENTS CRÃ‰Ã‰S (4)
â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€

1. SPEC_API_CLIENT_INDEX.md
   â†’ Document principal avec vue d'ensemble complÃ¨te
   â†’ Plan de dÃ©veloppement par phases
   â†’ Checklist finale et mÃ©triques

2. SPEC_API_CLIENT_PARTIE_1_UI.md
   â†’ Interface utilisateur complÃ¨te (HTML/CSS/JS)
   â†’ Gestion du token (affichage, gÃ©nÃ©ration, rÃ©gÃ©nÃ©ration)
   â†’ Modales de confirmation
   â†’ Section sÃ©curitÃ© et statistiques

3. SPEC_API_CLIENT_PARTIE_2_ENDPOINTS.md
   â†’ Architecture API REST
   â†’ 4 endpoints dÃ©taillÃ©s avec exemples
   â†’ Structures JSON requÃªtes/rÃ©ponses
   â†’ Codes d'erreur
   â†’ Exemples cURL, PHP, Python, Node.js

4. SPEC_API_CLIENT_PARTIE_3_SECURITE_DOC.md
   â†’ Mesures de sÃ©curitÃ© complÃ¨tes
   â†’ Middleware authentification
   â†’ Rate limiting
   â†’ Logging et monitoring
   â†’ Structure documentation client

â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
ðŸŽ¯ FONCTIONNALITÃ‰S COUVERTES
â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€

INTERFACE UTILISATEUR :
  âœ… Page /client/settings/api
  âœ… GÃ©nÃ©ration token sÃ©curisÃ©e
  âœ… Affichage masquÃ©/rÃ©vÃ©lÃ©
  âœ… Copie en un clic
  âœ… RÃ©gÃ©nÃ©ration avec confirmation
  âœ… Statistiques d'utilisation
  âœ… Avertissements sÃ©curitÃ©

ENDPOINTS API :
  âœ… POST /api/v1/client/packages (crÃ©er colis)
  âœ… GET /api/v1/client/packages (lister avec filtres)
  âœ… GET /api/v1/client/packages/{tracking} (dÃ©tail)
  âœ… GET /api/v1/client/stats (statistiques)

SÃ‰CURITÃ‰ :
  âœ… Bearer Token Authentication
  âœ… Hachage SHA-256 en BDD
  âœ… Rate limiting (120 req/min)
  âœ… HTTPS obligatoire
  âœ… Isolation donnÃ©es par client
  âœ… Validation stricte
  âœ… Logging complet
  âœ… Alertes activitÃ© suspecte

DOCUMENTATION :
  âœ… Guide Quick Start
  âœ… RÃ©fÃ©rence complÃ¨te endpoints
  âœ… Exemples multiples langages
  âœ… Codes d'erreur et solutions
  âœ… Swagger/Redoc interactif
  âœ… FAQ et support

â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
ðŸ“‹ DÃ‰TAILS TECHNIQUES
â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€

BASE URL :
  Production : https://api.al-amena.tn/v1
  Sandbox :    https://sandbox.al-amena.tn/v1

AUTHENTIFICATION :
  Authorization: Bearer alamena_live_{64_chars}

FORMAT TOKEN :
  alamena_{env}_{64_caractÃ¨res_alÃ©atoires}
  Exemple : alamena_live_a3f8d9c7b2e1f4a6d8c9b3e7f1a2d5c8

RATE LIMITS :
  Global : 120 requÃªtes/minute
  CrÃ©ation colis : 60 requÃªtes/minute
  Max colis/requÃªte : 100

BASE DE DONNÃ‰ES :
  Table : api_tokens
  Champs : id, user_id, token, token_hash, last_used_at, expires_at

VALIDATION :
  Champs obligatoires : 10
  Champs optionnels : 5
  RÃ¨gles strictes : regex tÃ©lÃ©phone, montants positifs, etc.

RÃ‰PONSES JSON :
  SuccÃ¨s : 200/201 avec data
  Erreur : 4xx/5xx avec message explicite
  Pagination : meta + links

â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
ðŸš€ PLAN DE DÃ‰VELOPPEMENT
â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€

PHASE 1 : Backend API (5 jours)
  â†’ Migration api_tokens
  â†’ ModÃ¨le ApiToken
  â†’ Middleware authentification
  â†’ ContrÃ´leur ApiPackageController
  â†’ Routes et validation
  â†’ Tests unitaires

PHASE 2 : Interface Utilisateur (3 jours)
  â†’ ContrÃ´leur ClientApiTokenController
  â†’ Vue api.blade.php
  â†’ JavaScript interactions
  â†’ Statistiques en temps rÃ©el

PHASE 3 : Documentation (2 jours)
  â†’ Installation Scramble
  â†’ Page documentation
  â†’ Exemples de code
  â†’ PDF tÃ©lÃ©chargeable

PHASE 4 : SÃ©curitÃ© & Tests (2 jours)
  â†’ Audit sÃ©curitÃ©
  â†’ Tests de pÃ©nÃ©tration
  â†’ Tests end-to-end
  â†’ Plan de rÃ©ponse incidents

TOTAL : 12 jours de dÃ©veloppement

â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
ðŸ“Š EXEMPLES FOURNIS
â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€

CRÃ‰ER UN COLIS :

cURL :
  curl -X POST https://api.al-amena.tn/v1/client/packages \
    -H "Authorization: Bearer TOKEN" \
    -H "Content-Type: application/json" \
    -d '{"packages":[{...}]}'

PHP :
  $ch = curl_init($url);
  curl_setopt($ch, CURLOPT_POST, true);
  curl_setopt($ch, CURLOPT_HTTPHEADER, [
      'Authorization: Bearer ' . $token
  ]);
  // ...

Python :
  response = requests.post(url, json=data, headers=headers)

Node.js :
  const response = await axios.post(url, data, {headers});

LISTER LES COLIS :

  GET /api/v1/client/packages?status=DELIVERED&per_page=25

RECHERCHER :

  GET /api/v1/client/packages?tracking_number=AL2025-001234

FILTRER PAR DATE :

  GET /api/v1/client/packages?date_from=2025-10-01&date_to=2025-10-31

â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
ðŸ”’ MESURES DE SÃ‰CURITÃ‰
â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€

STOCKAGE TOKEN :
  âœ… Hachage SHA-256 en base
  âœ… Token jamais stockÃ© en clair
  âœ… Index sur token_hash
  âœ… GÃ©nÃ©ration cryptographiquement sÃ»re

AUTHENTIFICATION :
  âœ… Middleware dÃ©diÃ©
  âœ… VÃ©rification Ã  chaque requÃªte
  âœ… DerniÃ¨re utilisation trackÃ©e
  âœ… Expiration optionnelle

PROTECTION DONNÃ‰ES :
  âœ… Isolation par sender_id
  âœ… Policies Laravel
  âœ… Validation stricte
  âœ… Sanitization automatique

MONITORING :
  âœ… Logging toutes requÃªtes
  âœ… Alertes >20 erreurs/5min
  âœ… Dashboard statistiques
  âœ… Audit logs 12 mois

RÃ‰SEAU :
  âœ… HTTPS forcÃ©
  âœ… Headers sÃ©curitÃ© (HSTS, etc.)
  âœ… Certificat SSL valide
  âœ… Rate limiting actif

â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
ðŸ“– DOCUMENTATION CLIENT
â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€

STRUCTURE :
  1. Introduction et Quick Start
  2. Authentification (obtenir/utiliser token)
  3. Endpoints (POST/GET dÃ©taillÃ©s)
  4. Exemples par langage
  5. Codes d'erreur
  6. Rate limiting
  7. FAQ & Support

FORMATS DISPONIBLES :
  â†’ Markdown (en ligne)
  â†’ Swagger/Redoc (interactif)
  â†’ PDF (tÃ©lÃ©chargeable)

ACCÃˆS :
  â†’ https://al-amena.tn/docs/api
  â†’ Depuis espace client : onglet API

â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
âœ… CHECKLIST DÃ‰VELOPPEMENT
â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€

BACKEND :
  [ ] Migration api_tokens crÃ©Ã©e
  [ ] ModÃ¨le ApiToken avec mÃ©thodes
  [ ] Middleware authentification
  [ ] ContrÃ´leur API
  [ ] Routes dÃ©finies
  [ ] Validation implÃ©mentÃ©e
  [ ] Rate limiting configurÃ©
  [ ] Tests Ã©crits

FRONTEND :
  [ ] Page settings/api crÃ©Ã©e
  [ ] JavaScript fonctionnel
  [ ] Modales confirmations
  [ ] Statistiques affichÃ©es
  [ ] Responsive mobile

SÃ‰CURITÃ‰ :
  [ ] HTTPS forcÃ©
  [ ] Headers sÃ©curitÃ©
  [ ] Hachage tokens
  [ ] Isolation donnÃ©es
  [ ] Logging actif
  [ ] Alertes configurÃ©es

DOCUMENTATION :
  [ ] Guide complet Ã©crit
  [ ] Exemples testÃ©s
  [ ] Swagger gÃ©nÃ©rÃ©
  [ ] PDF crÃ©Ã©
  [ ] Support formÃ©

TESTS :
  [ ] Tests unitaires OK
  [ ] Tests intÃ©gration OK
  [ ] Tests e2e OK
  [ ] Tests charge OK
  [ ] Audit sÃ©curitÃ© OK

â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
ðŸŽ¯ MÃ‰TRIQUES SUCCÃˆS
â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€

PERFORMANCE :
  Temps rÃ©ponse : < 200ms
  CrÃ©ation colis : < 500ms
  DisponibilitÃ© : > 99.9%

ADOPTION (Mois 1) :
  Clients avec token : 50
  Colis via API : 1,000
  RequÃªtes/jour : 5,000

ADOPTION (Mois 3) :
  Clients avec token : 200
  Colis via API : 10,000
  RequÃªtes/jour : 50,000

QUALITÃ‰ :
  Taux erreur : < 1%
  RÃ©solution bugs : < 24h
  Support : < 4h rÃ©ponse

â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
ðŸ“ž SUPPORT
â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€

Email : api-support@al-amena.tn
TÃ©lÃ©phone : +216 XX XXX XXX
Docs : https://al-amena.tn/docs/api

â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
âœ¨ RÃ‰SUMÃ‰
â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€

Cette spÃ©cification technique complÃ¨te couvre TOUS les aspects
de la fonctionnalitÃ© API Client :

  âœ… Interface utilisateur dÃ©taillÃ©e (HTML/CSS/JS)
  âœ… Endpoints API avec structures JSON
  âœ… SÃ©curitÃ© renforcÃ©e (token, rate limit, HTTPS)
  âœ… Documentation client complÃ¨te
  âœ… Exemples de code multiples langages
  âœ… Plan de dÃ©veloppement par phases
  âœ… Tests et validation
  âœ… MÃ©triques de succÃ¨s

DOCUMENTS :
  â†’ SPEC_API_CLIENT_INDEX.md (vue ensemble + plan)
  â†’ SPEC_API_CLIENT_PARTIE_1_UI.md (interface)
  â†’ SPEC_API_CLIENT_PARTIE_2_ENDPOINTS.md (API)
  â†’ SPEC_API_CLIENT_PARTIE_3_SECURITE_DOC.md (sÃ©curitÃ©)

PRÃŠT POUR LE DÃ‰VELOPPEMENT ! ðŸš€

â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
